(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{6984:function(e,s,t){Promise.resolve().then(t.bind(t,9789))},9789:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var a=t(7437),n=t(2265),l=t(2555),c=t(5811),r=t(5925);function i(){let[e,s]=(0,n.useState)(!1),[t,i]=(0,n.useState)(""),[d,o]=(0,n.useState)([]),[x,m]=(0,n.useState)([]),[h,u]=(0,n.useState)("assessments"),p=async()=>{try{let e=await fetch("/api/assessments");if(e.ok){let s=await e.json();o(s)}}catch(e){console.error("Failed to fetch assessments:",e)}},f=async()=>{try{let e=await fetch("/api/feedback/all");if(e.ok){let s=await e.json();m(s)}}catch(e){console.error("Failed to fetch feedback:",e)}};return e?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-400 via-dark-200 to-dark-300",children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)("main",{className:"pt-24 pb-20 px-4",children:(0,a.jsx)("div",{className:"container max-w-7xl mx-auto",children:(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold font-playfair mb-8",children:["Admin ",(0,a.jsx)("span",{className:"gradient-text",children:"Dashboard"})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-8 flex-wrap",children:[(0,a.jsx)("button",{onClick:()=>u("assessments"),className:"px-6 py-3 rounded-lg transition ".concat("assessments"===h?"bg-accent text-dark-400 font-semibold":"glass-card hover:border-accent/50"),children:"Assessments"}),(0,a.jsx)("button",{onClick:()=>u("feedback"),className:"px-6 py-3 rounded-lg transition ".concat("feedback"===h?"bg-accent text-dark-400 font-semibold":"glass-card hover:border-accent/50"),children:"Feedback"}),(0,a.jsx)("button",{onClick:()=>u("analytics"),className:"px-6 py-3 rounded-lg transition ".concat("analytics"===h?"bg-accent text-dark-400 font-semibold":"glass-card hover:border-accent/50"),children:"Analytics"})]}),(0,a.jsxs)("div",{className:"glass-card p-6 md:p-8",children:["assessments"===h&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Assessment Results"}),0===d.length?(0,a.jsx)("p",{className:"text-gray-400",children:"No assessment results yet."}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4",children:"Name"}),(0,a.jsx)("th",{className:"text-left py-3 px-4",children:"Business Type"}),(0,a.jsx)("th",{className:"text-left py-3 px-4",children:"Score"}),(0,a.jsx)("th",{className:"text-left py-3 px-4",children:"Issues"}),(0,a.jsx)("th",{className:"text-left py-3 px-4",children:"Date"})]})}),(0,a.jsx)("tbody",{children:d.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:e.userName}),(0,a.jsx)("td",{className:"py-3 px-4",children:e.businessType}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("span",{className:"font-bold ".concat(e.score>80?"text-green-400":e.score>50?"text-yellow-400":"text-red-400"),children:[e.score,"%"]})}),(0,a.jsxs)("td",{className:"py-3 px-4",children:[e.issues.length," issues"]}),(0,a.jsx)("td",{className:"py-3 px-4",children:new Date(e.completedAt).toLocaleDateString()})]},e.id))})]})})]}),"feedback"===h&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"User Feedback"}),0===x.length?(0,a.jsx)("p",{className:"text-gray-400",children:"No feedback received yet."}):(0,a.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-dark-400/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("bug"===e.type?"bg-red-500/20 text-red-400":"feature"===e.type?"bg-blue-500/20 text-blue-400":"praise"===e.type?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"),children:e.type.toUpperCase()}),e.rating&&(0,a.jsx)("span",{className:"text-yellow-400",children:"â˜…".repeat(e.rating)})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),(0,a.jsx)("p",{className:"text-gray-300 mb-2",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.email&&(0,a.jsxs)("span",{children:["\uD83D\uDCE7 ",e.email]}),(0,a.jsxs)("span",{children:["\uD83D\uDCC4 ",e.page]})]})]},e.id))})]}),"analytics"===h&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Analytics Overview"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"p-6 bg-dark-400/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold gradient-text mb-2",children:d.length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Total Assessments"})]}),(0,a.jsxs)("div",{className:"p-6 bg-dark-400/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold gradient-text mb-2",children:d.filter(e=>e.score>70).length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"High Score Results"})]}),(0,a.jsxs)("div",{className:"p-6 bg-dark-400/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-3xl font-bold gradient-text mb-2",children:x.length}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Feedback Received"})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Common Issues Identified"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-400/50 rounded",children:[(0,a.jsx)("span",{children:"Business Manager Not Setup"}),(0,a.jsx)("span",{className:"text-accent font-bold",children:"87%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-400/50 rounded",children:[(0,a.jsx)("span",{children:"Pixel Not Firing Correctly"}),(0,a.jsx)("span",{className:"text-accent font-bold",children:"73%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-400/50 rounded",children:[(0,a.jsx)("span",{children:"Campaign Audience Overlap"}),(0,a.jsx)("span",{className:"text-accent font-bold",children:"65%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-400/50 rounded",children:[(0,a.jsx)("span",{children:"Learning Phase Issues"}),(0,a.jsx)("span",{className:"text-accent font-bold",children:"52%"})]})]})]})]})]})]})})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-400 via-dark-200 to-dark-300",children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)("main",{className:"pt-24 pb-20 px-4",children:(0,a.jsx)("div",{className:"container max-w-md mx-auto",children:(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card p-8",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold mb-6 text-center",children:["Admin ",(0,a.jsx)("span",{className:"gradient-text",children:"Login"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"admin2024"===t?(s(!0),r.default.success("Welcome to Admin Dashboard"),p(),f()):r.default.error("Invalid password")},children:[(0,a.jsx)("input",{type:"password",placeholder:"Enter admin password",value:t,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 bg-dark-400/50 border border-gray-600 rounded-lg focus:border-accent focus:outline-none mb-4",autoFocus:!0}),(0,a.jsx)("button",{type:"submit",className:"w-full btn-primary",children:"Login"})]})]})})})]})}},5811:function(e,s,t){"use strict";t.d(s,{Z:function(){return m}});var a=t(7437),n=t(1396),l=t.n(n),c=t(4033),r=t(2265),i=t(5925),d=t(2167),o=t(2555);function x(e){let{isOpen:s,onClose:t,title:n="Book Your FREE 30-Minute Diagnostic Call",subtitle:l="Select your preferred time and date",calendarUrl:c="https://link.leadballoon.co.uk/widget/bookings/zoomwithmarkjw5z6g"}=e,[x,m]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=localStorage.getItem("assessmentCompleted");m(!!e),s&&!e&&(i.default.error("Please complete the assessment first to unlock your free diagnostic call!",{icon:"\uD83D\uDD12",duration:4e3}),t())},[s,t]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s&&t()};return s&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[s,t]),(0,a.jsx)(d.M,{children:s&&x&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[(0,a.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,a.jsx)(o.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative z-10 w-[90vw] max-w-4xl h-[85vh] max-h-[700px]",children:(0,a.jsxs)("div",{className:"glass-card p-6 md:p-8 h-full flex flex-col",children:[(0,a.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-3xl text-gray-400 hover:text-white transition","aria-label":"Close booking",children:"\xd7"}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h3",{className:"text-2xl md:text-3xl font-bold font-playfair mb-2",children:n}),(0,a.jsx)("p",{className:"text-gray-400",children:l})]}),(0,a.jsx)("div",{className:"flex-1 rounded-xl overflow-hidden bg-white/5",children:(0,a.jsx)("iframe",{src:c,className:"w-full h-full min-h-[500px]",frameBorder:"0",title:"Booking Calendar"})})]})})]})})}function m(){let e=(0,c.usePathname)(),[s,t]=(0,r.useState)(!1),[n,m]=(0,r.useState)("/"!==e),[h,u]=(0,r.useState)(0),[p,f]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!!localStorage.getItem("assessmentCompleted")),m("/"!==e)},[e]),(0,r.useEffect)(()=>{let s=()=>{let s=window.scrollY;"/"===e?s>100?m(!0):0===s&&m(!1):m(!0),u(s)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[h,e]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.M,{children:n&&(0,a.jsxs)(o.E.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"fixed top-0 left-0 right-0 z-50",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-dark-400/40 backdrop-blur-xl border-b border-white/10"}),(0,a.jsx)("div",{className:"relative container mx-auto px-4 py-3 md:py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(l(),{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition",children:(0,a.jsx)("img",{src:"/images/logo/Light background logo.png",alt:"First Aid For Ads",className:"h-8 md:h-10 w-auto"})}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[(0,a.jsx)(l(),{href:"/",className:"text-sm transition ".concat("/"===e?"text-accent font-semibold":"text-gray-300 hover:text-accent"),children:"Assessment"}),(0,a.jsx)(l(),{href:"/knowledge",className:"text-sm transition ".concat("/knowledge"===e?"text-accent font-semibold":"text-gray-300 hover:text-accent"),children:"Knowledge Base"}),(0,a.jsxs)(l(),{href:"/learn",onClick:e=>{s||(e.preventDefault(),i.default.error("Complete the assessment first to unlock the Learning Center!",{icon:"\uD83D\uDD12",duration:3e3}))},className:"text-sm transition flex items-center gap-1 ".concat("/learn"===e?"text-accent font-semibold":s?"text-gray-300 hover:text-accent":"text-gray-500 cursor-not-allowed"),children:["Learning Center",!s&&(0,a.jsx)("span",{className:"text-xs",children:"\uD83D\uDD12"})]}),(0,a.jsx)(l(),{href:"/admin",className:"text-sm transition ".concat("/admin"===e?"text-accent font-semibold":"text-gray-300 hover:text-accent"),children:"Admin"}),(0,a.jsx)("button",{onClick:()=>{if(s)f(!0);else if("/"===e){let e=document.getElementById("assessment-start");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),(0,i.default)("Complete the assessment to unlock your free diagnostic call!",{icon:"\uD83D\uDC47",duration:4e3,position:"top-center",style:{background:"#1f2937",color:"#fff",border:"1px solid #00ff88"}}))}else window.location.href="/#assessment-start",(0,i.default)("Complete the assessment first!",{icon:"\uD83D\uDC47",duration:4e3,position:"top-center"})},className:"text-sm px-4 py-2 transition ".concat(s?"btn-primary":"bg-accent/20 border border-accent/50 text-accent hover:bg-accent/30"),children:s?"Book Free Call":"Start Assessment First"})]}),(0,a.jsx)("button",{className:"md:hidden text-accent",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})]})}),(0,a.jsx)(x,{isOpen:p,onClose:()=>f(!1)})]})}}},function(e){e.O(0,[745,971,938,744],function(){return e(e.s=6984)}),_N_E=e.O()}]);