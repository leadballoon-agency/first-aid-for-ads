(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6535:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d});var a=t(482),n=t(9108),r=t(2563),l=t.n(r),i=t(8300),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9481)),"/Users/marktaylor/Desktop/First-Aid-For-Ads/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,269)),"/Users/marktaylor/Desktop/First-Aid-For-Ads/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/marktaylor/Desktop/First-Aid-For-Ads/app/admin/page.tsx"],x="/admin/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4875:(e,s,t)=>{Promise.resolve().then(t.bind(t,199))},199:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(5344),n=t(3729),r=t(9718),l=t(4354),i=t(4669);function c(){let[e,s]=(0,n.useState)(!1),[t,c]=(0,n.useState)(""),[d,o]=(0,n.useState)([]),[x,m]=(0,n.useState)([]),[p,h]=(0,n.useState)("assessments"),u=async()=>{try{let e=await fetch("/api/assessments");if(e.ok){let s=await e.json();o(s)}}catch(e){console.error("Failed to fetch assessments:",e)}},g=async()=>{try{let e=await fetch("/api/feedback/all");if(e.ok){let s=await e.json();m(s)}}catch(e){console.error("Failed to fetch feedback:",e)}};return e?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-400 via-dark-200 to-dark-300",children:[a.jsx(l.Z,{}),a.jsx("main",{className:"pt-24 pb-20 px-4",children:a.jsx("div",{className:"container max-w-7xl mx-auto",children:(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold font-playfair mb-8",children:["Admin ",a.jsx("span",{className:"gradient-text",children:"Dashboard"})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-8 flex-wrap",children:[a.jsx("button",{onClick:()=>h("assessments"),className:`px-6 py-3 rounded-lg transition ${"assessments"===p?"bg-accent text-dark-400 font-semibold":"glass-card hover:border-accent/50"}`,children:"Assessments"}),a.jsx("button",{onClick:()=>h("feedback"),className:`px-6 py-3 rounded-lg transition ${"feedback"===p?"bg-accent text-dark-400 font-semibold":"glass-card hover:border-accent/50"}`,children:"Feedback"}),a.jsx("button",{onClick:()=>h("analytics"),className:`px-6 py-3 rounded-lg transition ${"analytics"===p?"bg-accent text-dark-400 font-semibold":"glass-card hover:border-accent/50"}`,children:"Analytics"})]}),(0,a.jsxs)("div",{className:"glass-card p-6 md:p-8",children:["assessments"===p&&(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Assessment Results"}),0===d.length?a.jsx("p",{className:"text-gray-400",children:"No assessment results yet."}):a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-700",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Name"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Business Type"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Score"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Issues"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Date"})]})}),a.jsx("tbody",{children:d.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-800",children:[a.jsx("td",{className:"py-3 px-4",children:e.userName}),a.jsx("td",{className:"py-3 px-4",children:e.businessType}),a.jsx("td",{className:"py-3 px-4",children:(0,a.jsxs)("span",{className:`font-bold ${e.score>80?"text-green-400":e.score>50?"text-yellow-400":"text-red-400"}`,children:[e.score,"%"]})}),(0,a.jsxs)("td",{className:"py-3 px-4",children:[e.issues.length," issues"]}),a.jsx("td",{className:"py-3 px-4",children:new Date(e.completedAt).toLocaleDateString()})]},e.id))})]})})]}),"feedback"===p&&(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"User Feedback"}),0===x.length?a.jsx("p",{className:"text-gray-400",children:"No feedback received yet."}):a.jsx("div",{className:"space-y-4",children:x.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-dark-400/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${"bug"===e.type?"bg-red-500/20 text-red-400":"feature"===e.type?"bg-blue-500/20 text-blue-400":"praise"===e.type?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.type.toUpperCase()}),e.rating&&a.jsx("span",{className:"text-yellow-400",children:"â˜…".repeat(e.rating)})]}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),a.jsx("p",{className:"text-gray-300 mb-2",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.email&&(0,a.jsxs)("span",{children:["\uD83D\uDCE7 ",e.email]}),(0,a.jsxs)("span",{children:["\uD83D\uDCC4 ",e.page]})]})]},e.id))})]}),"analytics"===p&&(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Analytics Overview"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"p-6 bg-dark-400/50 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold gradient-text mb-2",children:d.length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Total Assessments"})]}),(0,a.jsxs)("div",{className:"p-6 bg-dark-400/50 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold gradient-text mb-2",children:d.filter(e=>e.score>70).length}),a.jsx("div",{className:"text-sm text-gray-400",children:"High Score Results"})]}),(0,a.jsxs)("div",{className:"p-6 bg-dark-400/50 rounded-lg",children:[a.jsx("div",{className:"text-3xl font-bold gradient-text mb-2",children:x.length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Feedback Received"})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Common Issues Identified"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-400/50 rounded",children:[a.jsx("span",{children:"Business Manager Not Setup"}),a.jsx("span",{className:"text-accent font-bold",children:"87%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-400/50 rounded",children:[a.jsx("span",{children:"Pixel Not Firing Correctly"}),a.jsx("span",{className:"text-accent font-bold",children:"73%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-400/50 rounded",children:[a.jsx("span",{children:"Campaign Audience Overlap"}),a.jsx("span",{className:"text-accent font-bold",children:"65%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-dark-400/50 rounded",children:[a.jsx("span",{children:"Learning Phase Issues"}),a.jsx("span",{className:"text-accent font-bold",children:"52%"})]})]})]})]})]})]})})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-400 via-dark-200 to-dark-300",children:[a.jsx(l.Z,{}),a.jsx("main",{className:"pt-24 pb-20 px-4",children:a.jsx("div",{className:"container max-w-md mx-auto",children:(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-card p-8",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold mb-6 text-center",children:["Admin ",a.jsx("span",{className:"gradient-text",children:"Login"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"admin2024"===t?(s(!0),i.default.success("Welcome to Admin Dashboard"),u(),g()):i.default.error("Invalid password")},children:[a.jsx("input",{type:"password",placeholder:"Enter admin password",value:t,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 bg-dark-400/50 border border-gray-600 rounded-lg focus:border-accent focus:outline-none mb-4",autoFocus:!0}),a.jsx("button",{type:"submit",className:"w-full btn-primary",children:"Login"})]})]})})})]})}},4354:(e,s,t)=>{"use strict";t.d(s,{Z:()=>m});var a=t(5344),n=t(783),r=t.n(n),l=t(2254),i=t(3729),c=t(4669),d=t(3644),o=t(9718);function x({isOpen:e,onClose:s,title:t="Book Your FREE 30-Minute Diagnostic Call",subtitle:n="Select your preferred time and date",calendarUrl:r="https://link.leadballoon.co.uk/widget/bookings/zoomwithmarkjw5z6g"}){let[l,x]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let t=localStorage.getItem("assessmentCompleted");x(!!t),e&&!t&&(c.default.error("Please complete the assessment first to unlock your free diagnostic call!",{icon:"\uD83D\uDD12",duration:4e3}),s())},[e,s]),(0,i.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e&&s()};return e&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[e,s]),a.jsx(d.M,{children:e&&l&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[a.jsx(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),a.jsx(o.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative z-10 w-[90vw] max-w-4xl h-[85vh] max-h-[700px]",children:(0,a.jsxs)("div",{className:"glass-card p-6 md:p-8 h-full flex flex-col",children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-3xl text-gray-400 hover:text-white transition","aria-label":"Close booking",children:"\xd7"}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold font-playfair mb-2",children:t}),a.jsx("p",{className:"text-gray-400",children:n})]}),a.jsx("div",{className:"flex-1 rounded-xl overflow-hidden bg-white/5",children:a.jsx("iframe",{src:r,className:"w-full h-full min-h-[500px]",frameBorder:"0",title:"Booking Calendar"})})]})})]})})}function m(){let e=(0,l.usePathname)(),[s,t]=(0,i.useState)(!1),[n,m]=(0,i.useState)("/"!==e),[p,h]=(0,i.useState)(0),[u,g]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!!localStorage.getItem("assessmentCompleted")),m("/"!==e)},[e]),(0,i.useEffect)(()=>{let s=()=>{let s=window.scrollY;"/"===e?s>100?m(!0):0===s&&m(!1):m(!0),h(s)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[p,e]),(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.M,{children:n&&(0,a.jsxs)(o.E.nav,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"fixed top-0 left-0 right-0 z-50",children:[a.jsx("div",{className:"absolute inset-0 bg-dark-400/40 backdrop-blur-xl border-b border-white/10"}),a.jsx("div",{className:"relative container mx-auto px-4 py-3 md:py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(r(),{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition",children:a.jsx("img",{src:"/images/logo/Light background logo.png",alt:"First Aid For Ads",className:"h-8 md:h-10 w-auto"})}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[a.jsx(r(),{href:"/",className:`text-sm transition ${"/"===e?"text-accent font-semibold":"text-gray-300 hover:text-accent"}`,children:"Assessment"}),a.jsx(r(),{href:"/knowledge",className:`text-sm transition ${"/knowledge"===e?"text-accent font-semibold":"text-gray-300 hover:text-accent"}`,children:"Knowledge Base"}),(0,a.jsxs)(r(),{href:"/learn",onClick:e=>{s||(e.preventDefault(),c.default.error("Complete the assessment first to unlock the Learning Center!",{icon:"\uD83D\uDD12",duration:3e3}))},className:`text-sm transition flex items-center gap-1 ${"/learn"===e?"text-accent font-semibold":s?"text-gray-300 hover:text-accent":"text-gray-500 cursor-not-allowed"}`,children:["Learning Center",!s&&a.jsx("span",{className:"text-xs",children:"\uD83D\uDD12"})]}),a.jsx(r(),{href:"/admin",className:`text-sm transition ${"/admin"===e?"text-accent font-semibold":"text-gray-300 hover:text-accent"}`,children:"Admin"}),a.jsx("button",{onClick:()=>{if(s)g(!0);else if("/"===e){let e=document.getElementById("assessment-start");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),(0,c.default)("Complete the assessment to unlock your free diagnostic call!",{icon:"\uD83D\uDC47",duration:4e3,position:"top-center",style:{background:"#1f2937",color:"#fff",border:"1px solid #00ff88"}}))}else window.location.href="/#assessment-start",(0,c.default)("Complete the assessment first!",{icon:"\uD83D\uDC47",duration:4e3,position:"top-center"})},className:`text-sm px-4 py-2 transition ${s?"btn-primary":"bg-accent/20 border border-accent/50 text-accent hover:bg-accent/30"}`,children:s?"Book Free Call":"Start Assessment First"})]}),a.jsx("button",{className:"md:hidden text-accent",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})]})}),a.jsx(x,{isOpen:u,onClose:()=>g(!1)})]})}},9481:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>n,default:()=>l});let a=(0,t(6843).createProxy)(String.raw`/Users/marktaylor/Desktop/First-Aid-For-Ads/app/admin/page.tsx`),{__esModule:n,$$typeof:r}=a,l=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,659,695,895],()=>t(6535));module.exports=a})();